<% @title = "アドレス詳細" %>
<h1><%= @title %></h1>

<tr>
    <th>アドレス: </th><td><%= @addressid %></td>
</tr>
<br>

<br>
<% if @addresstx.empty? %>
  <td>トランザクションはまだありません</td>
<% else %>
<table border="1">
  <thead>
      <tr>
        <th>アドレスのトランザクション一覧</th>
      </tr>
  </thead>
  <tbody>

    <% for m in 0..@addresstx.length-1 %>
      <tr>
          <th>トランザクションID</th><td><%= link_to @addresstx[m][0]['txid'], txinfo_path(@addresstx[m][0]['txid']) %></td>
      </tr>
      <% if (@addresstx[m][1].empty?) %>
        <th>送金元</th><td>Coinbase TX</td>
      <% else %>
      <% for l in 0..@addresstx[m][1].length-1 %>
        <tr>
          <th>送金元</th><td><%= link_to @addresstx[m][1][l][0], addressinfo_path(@addresstx[m][1][l][0]) %></td>
          <th>額</th><td><%= @addresstx[m][1][l][1] %><td>
        </tr>
      <% end %>
      <% end %>
      <% for n in 0..@addresstx[m][0]['vout'].length-1 %>
        <tr>
            <% if(@addresstx[m][0]['vout'][n]["scriptPubKey"]["addresses"]) %>
            <th>送金先</th><td><%= link_to @addresstx[m][0]['vout'][n]["scriptPubKey"]["addresses"][0], addressinfo_path(@addresstx[m][0]['vout'][n]["scriptPubKey"]["addresses"][0]) %></td>
            <% else %>
              <th>データ</th><td><%= @addresstx[m][0]['vout'][n]["scriptPubKey"]["type"] %></td>
            <% end %>
              <th>送金額</th><td><%= @addresstx[m][0]['vout'][n]["value"] %><td>
        </tr>
      <% end %>
    <% end %>
  </tbody>
</table>
<% end %>

<br>
<br>
ブロックハッシュ、ブロック高、トランザクションID、アドレスで検索
<%= form_tag(search_path,:method => 'get') do %>
  <%= text_field_tag :search %>
  <%= submit_tag 'Search', :name => nil %>
<% end %>
<br>
<%= link_to 'ブロックチェーンエクスプローラ', explorer_path %>
<br>
<%= link_to 'トランザクション一覧', txlist_path %>
<br>
<%= link_to 'ウォレット', wallet_path %>
<br>
<%= link_to '送金', sendings_path %>
<br>
<%= link_to 'マイニング', mining_path %>